"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[975],{1465:function(e,t,r){r.r(t),r.d(t,{default:function(){return o}});var s=r(800),i=r(9235);let n=async e=>{await (0,i.pp)(),new window.StoryblokBridge(e).on(["published","change"],()=>{window.location.reload()})},o=e=>{let{options:t}=e;return n(t),s.createElement(s.Fragment,null)}},8779:function(e,t,r){r.d(t,{f:function(){return n}});var s=r(800),i=r(9235);let n=(e=null,t={})=>{let[r,n]=(0,s.useState)(e),o=(null==e?void 0:e.internalId)??(null==e?void 0:e.id)??0,a="u">typeof window&&"u">typeof window.storyblokRegisterEvent;return(0,s.useEffect)(()=>{n(e),a&&e&&(0,i.MB)(o,e=>n(e),t)},[e]),r}},216:function(e,t,r){r.d(t,{$d:function(){return h},Xr:function(){return a},Y7:function(){return c},cY:function(){return l}});var s=r(9235);r(6669);let i={},n=!1,o=null,a=e=>i[e]?i[e]:(console.error(`Component ${e} doesn't exist.`),!1),l=()=>n,c=()=>o,h=(e={})=>{let{storyblokApi:t}=(0,s.$d)(e);i=e.components,n=e.enableFallbackComponent,o=e.customFallbackComponent}},2852:function(e,t,r){r.r(t),r.d(t,{default:function(){return o}});var s=r(800),i=r(8779),n=r(6669);let o=(0,s.forwardRef)((e,t)=>{let{story:r,bridgeOptions:o,...a}=e;return"string"==typeof r.content&&(r.content=JSON.parse(r.content)),r=(0,i.f)(r,o),s.createElement(n.Z,{ref:t,blok:r.content,...a})})},6669:function(e,t,r){r.d(t,{Z:function(){return n}});var s=r(800),i=r(216);let n=(0,s.forwardRef)(({blok:e,...t},r)=>{if(!e)return console.error("Please provide a 'blok' property to the StoryblokComponent"),s.createElement("div",null,"Please provide a blok property to the StoryblokComponent");let n=(0,i.Xr)(e.component);if(n)return s.createElement(n,{ref:r,blok:e,...t});if((0,i.cY)()){let r=(0,i.Y7)();return r?s.createElement(r,{blok:e,...t}):s.createElement(s.Fragment,null,s.createElement("p",null,"Component could not be found for blok"," ",s.createElement("strong",null,e.component),"! Is it configured correctly?"))}return s.createElement("div",null)});n.displayName="StoryblokComponent"},9235:function(e,t,r){r.d(t,{$d:function(){return E},LF:function(){return R},M$:function(){return $},MB:function(){return j},pp:function(){return O}});let s=!1,i=[],n=e=>new Promise((t,r)=>{if(typeof window>"u"||(window.storyblokRegisterEvent=e=>{if(window.location===window.parent.location){console.warn("You are not in Draft Mode or in the Visual Editor.");return}s?e():i.push(e)},document.getElementById("storyblok-javascript-bridge")))return;let n=document.createElement("script");n.async=!0,n.src=e,n.id="storyblok-javascript-bridge",n.onerror=e=>r(e),n.onload=e=>{i.forEach(e=>e()),s=!0,t(e)},document.getElementsByTagName("head")[0].appendChild(n)});var o=Object.defineProperty,a=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t,r)=>(a(e,"symbol"!=typeof t?t+"":t,r),r);function c(e){return!(e!=e||e===1/0||e===-1/0)}class h{constructor(){l(this,"isCDNUrl",(e="")=>e.indexOf("/cdn/")>-1),l(this,"getOptionsPage",(e,t=25,r=1)=>({...e,per_page:t,page:r})),l(this,"delay",e=>new Promise(t=>setTimeout(t,e))),l(this,"arrayFrom",(e=0,t)=>[...Array(e)].map(t)),l(this,"range",(e=0,t=e)=>{let r=e<t?1:-1;return this.arrayFrom(Math.abs(t-e)||0,(t,s)=>s*r+e)}),l(this,"asyncMap",async(e,t)=>Promise.all(e.map(t))),l(this,"flatMap",(e=[],t)=>e.map(t).reduce((e,t)=>[...e,...t],[])),l(this,"escapeHTML",function(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r=/[&<>"']/g,s=RegExp(r.source);return e&&s.test(e)?e.replace(r,e=>t[e]):e})}stringify(e,t,r){let s=[];for(let i in e){let n;if(!Object.prototype.hasOwnProperty.call(e,i))continue;let o=e[i],a=r?"":encodeURIComponent(i);n="object"==typeof o?this.stringify(o,t?t+encodeURIComponent("["+a+"]"):a,Array.isArray(o)):(t?t+encodeURIComponent("["+a+"]"):a)+"="+encodeURIComponent(o),s.push(n)}return s.join("&")}getRegionURL(e){switch(e){case"us":return"api-us.storyblok.com";case"cn":return"app.storyblokchina.cn";case"ap":return"api-ap.storyblok.com";case"ca":return"api-ca.storyblok.com";default:return"api.storyblok.com"}}}let u=function(e,t){let r={};for(let s in e){let i=e[s];t.indexOf(s)>-1&&null!==i&&(r[s]=i)}return r},p=e=>"email"===e,d={nodes:{horizontal_rule:()=>({singleTag:"hr"}),blockquote:()=>({tag:"blockquote"}),bullet_list:()=>({tag:"ul"}),code_block:e=>({tag:["pre",{tag:"code",attrs:e.attrs}]}),hard_break:()=>({singleTag:"br"}),heading:e=>({tag:`h${e.attrs.level}`}),image:e=>({singleTag:[{tag:"img",attrs:u(e.attrs,["src","alt","title"])}]}),list_item:()=>({tag:"li"}),ordered_list:()=>({tag:"ol"}),paragraph:()=>({tag:"p"}),emoji:e=>({tag:[{tag:"span",attrs:{"data-type":"emoji","data-name":e.attrs.name,emoji:e.attrs.emoji}}]})},marks:{bold:()=>({tag:"b"}),strike:()=>({tag:"s"}),underline:()=>({tag:"u"}),strong:()=>({tag:"strong"}),code:()=>({tag:"code"}),italic:()=>({tag:"i"}),link:e=>{if(!e.attrs)return{tag:""};let t=new h().escapeHTML,r={...e.attrs},{linktype:s="url"}=e.attrs;if(delete r.linktype,r.href&&(r.href=t(e.attrs.href||"")),p(s)&&(r.href=`mailto:${r.href}`),r.anchor&&(r.href=`${r.href}#${r.anchor}`,delete r.anchor),r.custom){for(let e in r.custom)r[e]=r.custom[e];delete r.custom}return{tag:[{tag:"a",attrs:r}]}},styled:e=>({tag:[{tag:"span",attrs:e.attrs}]}),subscript:()=>({tag:"sub"}),superscript:()=>({tag:"sup"}),anchor:e=>({tag:[{tag:"span",attrs:e.attrs}]}),highlight:e=>{var t;return null!=(t=e.attrs)&&t.color?{tag:[{tag:"span",attrs:{style:`background-color:${e.attrs.color};`}}]}:{tag:""}},textStyle:e=>{var t;return null!=(t=e.attrs)&&t.color?{tag:[{tag:"span",attrs:{style:`color:${e.attrs.color}`}}]}:{tag:""}}}},g=function(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r=/[&<>"']/g,s=RegExp(r.source);return e&&s.test(e)?e.replace(r,e=>t[e]):e};class f{constructor(e){l(this,"marks"),l(this,"nodes"),e||(e=d),this.marks=e.marks||[],this.nodes=e.nodes||[]}addNode(e,t){this.nodes[e]=t}addMark(e,t){this.marks[e]=t}render(e,t={optimizeImages:!1}){if(e&&e.content&&Array.isArray(e.content)){let r="";return e.content.forEach(e=>{r+=this.renderNode(e)}),t.optimizeImages?this.optimizeImages(r,t.optimizeImages):r}return console.warn(`The render method must receive an Object with a "content" field.
			The "content" field must be an array of nodes as the type ISbRichtext.
			ISbRichtext:
				content?: ISbRichtext[]
				marks?: ISbRichtext[]
				attrs?: any
				text?: string
				type: string
				
				Example:
				{
					content: [
						{
							content: [
								{
									text: 'Hello World',
									type: 'text'
								}
							],
							type: 'paragraph'
						}
					],
					type: 'doc'
				}`),""}optimizeImages(e,t){let r=0,s=0,i="",n="";"boolean"!=typeof t&&("number"==typeof t.width&&t.width>0&&(i+=`width="${t.width}" `,r=t.width),"number"==typeof t.height&&t.height>0&&(i+=`height="${t.height}" `,s=t.height),("lazy"===t.loading||"eager"===t.loading)&&(i+=`loading="${t.loading}" `),"string"==typeof t.class&&t.class.length>0&&(i+=`class="${t.class}" `),t.filters&&("number"==typeof t.filters.blur&&t.filters.blur>=0&&t.filters.blur<=100&&(n+=`:blur(${t.filters.blur})`),"number"==typeof t.filters.brightness&&t.filters.brightness>=-100&&t.filters.brightness<=100&&(n+=`:brightness(${t.filters.brightness})`),t.filters.fill&&(t.filters.fill.match(/[0-9A-Fa-f]{6}/g)||"transparent"===t.filters.fill)&&(n+=`:fill(${t.filters.fill})`),t.filters.format&&["webp","png","jpeg"].includes(t.filters.format)&&(n+=`:format(${t.filters.format})`),"boolean"==typeof t.filters.grayscale&&t.filters.grayscale&&(n+=":grayscale()"),"number"==typeof t.filters.quality&&t.filters.quality>=0&&t.filters.quality<=100&&(n+=`:quality(${t.filters.quality})`),t.filters.rotate&&[90,180,270].includes(t.filters.rotate)&&(n+=`:rotate(${t.filters.rotate})`),n.length>0&&(n="/filters"+n))),i.length>0&&(e=e.replace(/<img/g,`<img ${i.trim()}`));let o=r>0||s>0||n.length>0?`${r}x${s}${n}`:"";return e=e.replace(/a.storyblok.com\/f\/(\d+)\/([^.]+)\.(gif|jpg|jpeg|png|tif|tiff|bmp)/g,`a.storyblok.com/f/$1/$2.$3/m/${o}`),"boolean"!=typeof t&&(t.sizes||t.srcset)&&(e=e.replace(/<img.*?src=["|'](.*?)["|']/g,e=>{var r,s;let i=e.match(/a.storyblok.com\/f\/(\d+)\/([^.]+)\.(gif|jpg|jpeg|png|tif|tiff|bmp)/g);if(i&&i.length>0){let o={srcset:null==(r=t.srcset)?void 0:r.map(e=>{if("number"==typeof e)return`//${i}/m/${e}x0${n} ${e}w`;if("object"==typeof e&&2===e.length){let t=0,r=0;return"number"==typeof e[0]&&(t=e[0]),"number"==typeof e[1]&&(r=e[1]),`//${i}/m/${t}x${r}${n} ${t}w`}}).join(", "),sizes:null==(s=t.sizes)?void 0:s.map(e=>e).join(", ")},a="";return o.srcset&&(a+=`srcset="${o.srcset}" `),o.sizes&&(a+=`sizes="${o.sizes}" `),e.replace(/<img/g,`<img ${a.trim()}`)}return e})),e}renderNode(e){let t=[];e.marks&&e.marks.forEach(e=>{let r=this.getMatchingMark(e);r&&""!==r.tag&&t.push(this.renderOpeningTag(r.tag))});let r=this.getMatchingNode(e);return r&&r.tag&&t.push(this.renderOpeningTag(r.tag)),e.content?e.content.forEach(e=>{t.push(this.renderNode(e))}):e.text?t.push(g(e.text)):r&&r.singleTag?t.push(this.renderTag(r.singleTag," /")):r&&r.html?t.push(r.html):"emoji"===e.type&&t.push(this.renderEmoji(e)),r&&r.tag&&t.push(this.renderClosingTag(r.tag)),e.marks&&e.marks.slice(0).reverse().forEach(e=>{let r=this.getMatchingMark(e);r&&""!==r.tag&&t.push(this.renderClosingTag(r.tag))}),t.join("")}renderTag(e,t){return e.constructor===String?`<${e}${t}>`:e.map(e=>{if(e.constructor===String)return`<${e}${t}>`;{let r=`<${e.tag}`;if(e.attrs)for(let t in e.attrs){let s=e.attrs[t];null!==s&&(r+=` ${t}="${s}"`)}return`${r}${t}>`}}).join("")}renderOpeningTag(e){return this.renderTag(e,"")}renderClosingTag(e){return e.constructor===String?`</${e}>`:e.slice(0).reverse().map(e=>e.constructor===String?`</${e}>`:`</${e.tag}>`).join("")}getMatchingNode(e){let t=this.nodes[e.type];if("function"==typeof t)return t(e)}getMatchingMark(e){let t=this.marks[e.type];if("function"==typeof t)return t(e)}renderEmoji(e){if(e.attrs.emoji)return e.attrs.emoji;let t=[{tag:"img",attrs:{src:e.attrs.fallbackImage,draggable:"false",loading:"lazy",align:"absmiddle"}}];return this.renderTag(t," /")}}class m{constructor(e){l(this,"baseURL"),l(this,"timeout"),l(this,"headers"),l(this,"responseInterceptor"),l(this,"fetch"),l(this,"ejectInterceptor"),l(this,"url"),l(this,"parameters"),l(this,"fetchOptions"),this.baseURL=e.baseURL,this.headers=e.headers||new Headers,this.timeout=null!=e&&e.timeout?1e3*e.timeout:0,this.responseInterceptor=e.responseInterceptor,this.fetch=(...t)=>e.fetch?e.fetch(...t):fetch(...t),this.ejectInterceptor=!1,this.url="",this.parameters={},this.fetchOptions={}}get(e,t){return this.url=e,this.parameters=t,this._methodHandler("get")}post(e,t){return this.url=e,this.parameters=t,this._methodHandler("post")}put(e,t){return this.url=e,this.parameters=t,this._methodHandler("put")}delete(e,t){return this.url=e,this.parameters=t,this._methodHandler("delete")}async _responseHandler(e){let t=[],r={data:{},headers:{},status:0,statusText:""};for(let s of(204!==e.status&&await e.json().then(e=>{r.data=e}),e.headers.entries()))t[s[0]]=s[1];return r.headers={...t},r.status=e.status,r.statusText=e.statusText,r}async _methodHandler(e){let t,r=`${this.baseURL}${this.url}`,s=null;if("get"===e){let e=new h;r=`${this.baseURL}${this.url}?${e.stringify(this.parameters)}`}else s=JSON.stringify(this.parameters);let i=new URL(r),n=new AbortController,{signal:o}=n;this.timeout&&(t=setTimeout(()=>n.abort(),this.timeout));try{let r=await this.fetch(`${i}`,{method:e,headers:this.headers,body:s,signal:o,...this.fetchOptions});this.timeout&&clearTimeout(t);let n=await this._responseHandler(r);return this.responseInterceptor&&!this.ejectInterceptor?this._statusHandler(this.responseInterceptor(n)):this._statusHandler(n)}catch(e){return{message:e}}}setFetchOptions(e={}){Object.keys(e).length>0&&"method"in e&&delete e.method,this.fetchOptions={...e}}eject(){this.ejectInterceptor=!0}_statusHandler(e){let t=/20[0-6]/g;return new Promise((r,s)=>{if(t.test(`${e.status}`))return r(e);s({message:e.statusText,status:e.status,response:Array.isArray(e.data)?e.data[0]:e.data.error||e.data.slug})})}}let y="SB-Agent",b={defaultAgentName:"SB-JS-CLIENT",defaultAgentVersion:"SB-Agent-Version",packageVersion:"6.0.0"},v={},k={};class w{constructor(e,t){l(this,"client"),l(this,"maxRetries"),l(this,"throttle"),l(this,"accessToken"),l(this,"cache"),l(this,"helpers"),l(this,"resolveCounter"),l(this,"relations"),l(this,"links"),l(this,"richTextResolver"),l(this,"resolveNestedRelations"),l(this,"stringifiedStoriesCache");let r=e.endpoint||t;if(!r){let t=new h().getRegionURL,s=!1===e.https?"http":"https";r=e.oauthToken?`${s}://${t(e.region)}/v1`:`${s}://${t(e.region)}/v2`}let s=new Headers;if(s.set("Content-Type","application/json"),s.set("Accept","application/json"),e.headers)for(let t in e.headers)s.set(t,e.headers[t]);s.has(y)||(s.set(y,b.defaultAgentName),s.set(b.defaultAgentVersion,b.packageVersion));let i=5;e.oauthToken&&(s.set("Authorization",e.oauthToken),i=3),e.rateLimit&&(i=e.rateLimit),e.richTextSchema?this.richTextResolver=new f(e.richTextSchema):this.richTextResolver=new f,e.componentResolver&&this.setComponentResolver(e.componentResolver),this.maxRetries=e.maxRetries||5,this.throttle=function(e,t,r){if(!c(t))throw TypeError("Expected `limit` to be a finite number");if(!c(r))throw TypeError("Expected `interval` to be a finite number");let s=[],i=[],n=0,o=function(){n++;let t=setTimeout(function(){n--,s.length>0&&o(),i=i.filter(function(e){return e!==t})},r);0>i.indexOf(t)&&i.push(t);let a=s.shift();a.resolve(e.apply(a.self,a.args))},a=function(...e){let r=this;return new Promise(function(i,a){s.push({resolve:i,reject:a,args:e,self:r}),n<t&&o()})};return a.abort=function(){i.forEach(clearTimeout),i=[],s.forEach(function(e){e.reject(function(){Error.call(this,"Throttled function aborted"),this.name="AbortError"})}),s.length=0},a}(this.throttledRequest,i,1e3),this.accessToken=e.accessToken||"",this.relations={},this.links={},this.cache=e.cache||{clear:"manual"},this.helpers=new h,this.resolveCounter=0,this.resolveNestedRelations=e.resolveNestedRelations||!0,this.stringifiedStoriesCache={},this.client=new m({baseURL:r,timeout:e.timeout||0,headers:s,responseInterceptor:e.responseInterceptor,fetch:e.fetch})}setComponentResolver(e){this.richTextResolver.addNode("blok",t=>{let r="";return t.attrs.body&&t.attrs.body.forEach(t=>{r+=e(t.component,t)}),{html:r}})}parseParams(e){return e.token||(e.token=this.getToken()),e.cv||(e.cv=k[e.token]),Array.isArray(e.resolve_relations)&&(e.resolve_relations=e.resolve_relations.join(",")),"u">typeof e.resolve_relations&&(e.resolve_level=2),e}factoryParamOptions(e,t){return this.helpers.isCDNUrl(e)?this.parseParams(t):t}makeRequest(e,t,r,s){let i=this.factoryParamOptions(e,this.helpers.getOptionsPage(t,r,s));return this.cacheResponse(e,i)}get(e,t,r){t||(t={});let s=`/${e}`,i=this.factoryParamOptions(s,t);return this.client.setFetchOptions(r),this.cacheResponse(s,i)}async getAll(e,t,r,s){let i=(null==t?void 0:t.per_page)||25,n=`/${e}`,o=n.split("/"),a=r||o[o.length-1],l=await this.makeRequest(n,t,i,1),c=l.total?Math.ceil(l.total/i):1;this.client.setFetchOptions(s);let h=await this.helpers.asyncMap(this.helpers.range(1,c),e=>this.makeRequest(n,t,i,e+1));return this.helpers.flatMap([l,...h],e=>Object.values(e.data[a]))}post(e,t,r){let s=`/${e}`;return this.client.setFetchOptions(r),Promise.resolve(this.throttle("post",s,t))}put(e,t,r){let s=`/${e}`;return this.client.setFetchOptions(r),Promise.resolve(this.throttle("put",s,t))}delete(e,t,r){let s=`/${e}`;return this.client.setFetchOptions(r),Promise.resolve(this.throttle("delete",s,t))}getStories(e,t){return this.client.setFetchOptions(t),this._addResolveLevel(e),this.get("cdn/stories",e)}getStory(e,t,r){return this.client.setFetchOptions(r),this._addResolveLevel(t),this.get(`cdn/stories/${e}`,t)}getToken(){return this.accessToken}ejectInterceptor(){this.client.eject()}_addResolveLevel(e){"u">typeof e.resolve_relations&&(e.resolve_level=2)}_cleanCopy(e){return JSON.parse(JSON.stringify(e))}_insertLinks(e,t,r){let s=e[t];s&&"multilink"==s.fieldtype&&"story"==s.linktype&&"string"==typeof s.id&&this.links[r][s.id]?s.story=this._cleanCopy(this.links[r][s.id]):s&&"story"===s.linktype&&"string"==typeof s.uuid&&this.links[r][s.uuid]&&(s.story=this._cleanCopy(this.links[r][s.uuid]))}getStoryReference(e,t){return this.relations[e][t]?(this.stringifiedStoriesCache[t]||(this.stringifiedStoriesCache[t]=JSON.stringify(this.relations[e][t])),JSON.parse(this.stringifiedStoriesCache[t])):t}_insertRelations(e,t,r,s){r.indexOf(`${e.component}.${t}`)>-1&&("string"==typeof e[t]?e[t]=this.getStoryReference(s,e[t]):Array.isArray(e[t])&&(e[t]=e[t].map(e=>this.getStoryReference(s,e)).filter(Boolean)))}iterateTree(e,t,r){let s=e=>{if(null!=e){if(e.constructor===Array)for(let t=0;t<e.length;t++)s(e[t]);else if(e.constructor===Object){if(e._stopResolving)return;for(let i in e)(e.component&&e._uid||"link"===e.type)&&(this._insertRelations(e,i,t,r),this._insertLinks(e,i,r)),s(e[i])}}};s(e.content)}async resolveLinks(e,t,r){let s=[];if(e.link_uuids){let r=e.link_uuids.length,i=[];for(let t=0;t<r;t+=50){let s=Math.min(r,t+50);i.push(e.link_uuids.slice(t,s))}for(let e=0;e<i.length;e++)(await this.getStories({per_page:50,language:t.language,version:t.version,by_uuids:i[e].join(",")})).data.stories.forEach(e=>{s.push(e)})}else s=e.links;s.forEach(e=>{this.links[r][e.uuid]={...e,_stopResolving:!0}})}async resolveRelations(e,t,r){let s=[];if(e.rel_uuids){let r=e.rel_uuids.length,i=[];for(let t=0;t<r;t+=50){let s=Math.min(r,t+50);i.push(e.rel_uuids.slice(t,s))}for(let e=0;e<i.length;e++)(await this.getStories({per_page:50,language:t.language,version:t.version,by_uuids:i[e].join(","),excluding_fields:t.excluding_fields})).data.stories.forEach(e=>{s.push(e)})}else s=e.rels;s&&s.length>0&&s.forEach(e=>{this.relations[r][e.uuid]={...e,_stopResolving:!0}})}async resolveStories(e,t,r){var s,i;let n=[];if(this.links[r]={},this.relations[r]={},"u">typeof t.resolve_relations&&t.resolve_relations.length>0&&("string"==typeof t.resolve_relations&&(n=t.resolve_relations.split(",")),await this.resolveRelations(e,t,r)),t.resolve_links&&["1","story","url","link"].indexOf(t.resolve_links)>-1&&(null!=(s=e.links)&&s.length||null!=(i=e.link_uuids)&&i.length)&&await this.resolveLinks(e,t,r),this.resolveNestedRelations)for(let e in this.relations[r])this.iterateTree(this.relations[r][e],n,r);e.story?this.iterateTree(e.story,n,r):e.stories.forEach(e=>{this.iterateTree(e,n,r)}),this.stringifiedStoriesCache={},delete this.links[r],delete this.relations[r]}async cacheResponse(e,t,r){(typeof r>"u"||!r)&&(r=0);let s=this.helpers.stringify({url:e,params:t}),i=this.cacheProvider();if("auto"===this.cache.clear&&"draft"===t.version&&await this.flushCache(),"published"===t.version&&"/cdn/spaces/me"!=e){let e=await i.get(s);if(e)return Promise.resolve(e)}return new Promise(async(n,o)=>{var a;try{let r=await this.throttle("get",e,t);if(200!==r.status)return o(r);let l={data:r.data,headers:r.headers};if(null!=(a=r.headers)&&a["per-page"]&&(l=Object.assign({},l,{perPage:r.headers["per-page"]?parseInt(r.headers["per-page"]):0,total:r.headers["per-page"]?parseInt(r.headers.total):0})),l.data.story||l.data.stories){let e=this.resolveCounter=++this.resolveCounter%1e3;await this.resolveStories(l.data,t,`${e}`)}return"published"===t.version&&"/cdn/spaces/me"!=e&&await i.set(s,l),l.data.cv&&t.token&&("draft"===t.version&&k[t.token]!=l.data.cv&&await this.flushCache(),k[t.token]=t.cv?t.cv:l.data.cv),n(l)}catch(s){if(s.response&&429===s.status&&(r=r?r+1:0)<this.maxRetries)return console.log(`Hit rate limit. Retrying in ${r} seconds.`),await this.helpers.delay(1e3*r),this.cacheResponse(e,t,r).then(n).catch(o);o(s)}})}throttledRequest(e,t,r){return this.client[e](t,r)}cacheVersions(){return k}cacheVersion(){return k[this.accessToken]}setCacheVersion(e){this.accessToken&&(k[this.accessToken]=e)}cacheProvider(){switch(this.cache.type){case"memory":return{get:e=>Promise.resolve(v[e]),getAll:()=>Promise.resolve(v),set:(e,t)=>(v[e]=t,Promise.resolve(void 0)),flush:()=>(v={},Promise.resolve(void 0))};case"custom":if(this.cache.custom)return this.cache.custom;default:return{get:()=>Promise.resolve(),getAll:()=>Promise.resolve(void 0),set:()=>Promise.resolve(void 0),flush:()=>Promise.resolve(void 0)}}}async flushCache(){return await this.cacheProvider().flush(),this}}let $=(e={})=>{let{apiOptions:t}=e;if(!t.accessToken){console.error("You need to provide an access token to interact with Storyblok API. Read https://www.storyblok.com/docs/api/content-delivery#topics/authentication");return}return{storyblokApi:new w(t)}},R=e=>{if("object"!=typeof e||typeof e._editable>"u")return{};try{let t=JSON.parse(e._editable.replace(/^<!--#storyblok#/,"").replace(/-->$/,""));return t?{"data-blok-c":JSON.stringify(t),"data-blok-uid":t.id+"-"+t.uid}:{}}catch{return{}}},_,T="https://app.storyblok.com/f/storyblok-v2-latest.js",j=(e,t,r={})=>{var s;let i=!(typeof window>"u")&&"u">typeof window.storyblokRegisterEvent,n=+new URL(null==(s=window.location)?void 0:s.href).searchParams.get("_storyblok")===e;if(!(!i||!n)){if(!e){console.warn("Story ID is not defined. Please provide a valid ID.");return}window.storyblokRegisterEvent(()=>{new window.StoryblokBridge(r).on(["input","published","change"],r=>{"input"===r.action&&r.story.id===e?t(r.story):("change"===r.action||"published"===r.action)&&r.storyId===e&&window.location.reload()})})}},E=(e={})=>{var t,r;let{bridge:s,accessToken:i,use:o=[],apiOptions:a={},richText:l={},bridgeUrl:c}=e;a.accessToken=a.accessToken||i;let h={bridge:s,apiOptions:a},u={};o.forEach(e=>{u={...u,...e(h)}}),c&&(T=c);let p=!(typeof window>"u")&&(null==(r=null==(t=window.location)?void 0:t.search)?void 0:r.includes("_storyblok_tk"));return!1!==s&&p&&n(T),_=new f(l.schema),l.resolver&&S(_,l.resolver),u},S=(e,t)=>{e.addNode("blok",e=>{let r="";return e.attrs.body.forEach(e=>{r+=t(e.component,e)}),{html:r}})},O=()=>n(T)}}]);